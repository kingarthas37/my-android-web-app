var textCheckObj={textMatch:function(){},onSubmit:function(){},errText:""};$.fn.checkValue=function(a){var b=$.extend({match:function(){},unMatch:function(){}},a||null);return this.each(function(j,f){var l=$(f);var m=l.val();var h=l.attr("title")?l.attr("title"):"";var c=l.attr("textrequired");var k=l.attr("texttype");var d=l.val().length;var g=l.attr("textmaxlen");var e=l.attr("textminlen");if(textCheckObj.textMatch(c,m,h,k,d,g,e,l)){l.data("checked",true);b.match()}else{l.data("checked",false);b.unMatch(textCheckObj.errText)}})};$.checkValue=function(a){var b=$.extend({text:null,textTitle:null,textRequired:false,type:null,match:function(){},unMatch:function(){}},a||null);if(textCheckObj.textMatch(b.textRequired,b.text,b.textTitle,b.type)){b.match()}else{b.unMatch(textCheckObj.errText)}};$.fn.checkSubmit=function(a){var b=$.extend({checkElements:null,onSubmit:function(){},unSubmit:function(){}},a||null);var c=true;b.checkElements.each(function(d,e){c=c&&$(e).data("checked")});if(c){b.onSubmit()}else{b.unSubmit()}};textCheckObj.textMatch=function(a,j,d,h,b,f,c,i){if(a){if(j.length==0){textCheckObj.errText="请输入"+d;return false}}switch(h){case"password":if((c&&b<c)&&!f){textCheckObj.errText="密码必须大于"+c+"个字符";return false}if((f&&b>f)&&!c){textCheckObj.errText="密码必须少于"+f+"个字符";return false}if(c&&b<c){textCheckObj.errText="密码必须在"+c+"-"+f+"个字符之间";return false}if(b<c||b>f){textCheckObj.errText="密码必须在"+c+"-"+f+"个字符之间";return false}return true;break;case"number":textCheckObj.errText="必须是数字";return/^[0-9]*$/.test(j);break;case"email":textCheckObj.errText="邮箱格式格式不正确，请重新输入";return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(j);break;case"positive":textCheckObj.errText="必须是正数";return/^\-{0,1}\d+$/.test(j);break;case"phone":textCheckObj.errText="手机号格式不正确，请重新输入";return/^1(3|4|5|8)\d{9}$/.test(j);break;case"custom":textCheckObj.errText="验证错误，必须是："+i.attr("textinfo");try{var k=new RegExp(i.attr("texttest"));return k.test(j)}catch(g){}return false;break;default:return true}};